<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>quiz Website</title>
        <style>
            body{
                background-image: linear-gradient(to bottom right, #A683E3  ,#E4E9FD );
            }
            form{
                max-width: 700px;
                margin: auto;
                display:block;
                width: 70%;
            }
            .top{
                display: flex;
                background-color: #E4E9FD;
                height: 100px;
                justify-content: center;
                align-items: center;
                border: 1px solid #A683E3;
                border-radius: 5px;
                margin-bottom: 40px;
            }
            .mcq{
                border-radius: 5px;
                background-color: #E4E9FD;
                padding: 10px;
            }
            .question{
                margin-bottom: 20px;
            }
            .opt{
                font-weight: 400;
                border: 2px solid ;
                border-radius: 5px;
                padding: 5px;
                padding-left: 15px;
                width: 100%;
                cursor: pointer;
                margin-bottom: 15px;
            }
            .opt:hover{
                background: #A683E3;
                background-color: #A683E3;
            }
            .full{
                background-color: #A683E3;
                border-radius: 5px;
                padding: 20px;
                width: 100%;
            }
            .b{
                float: right;
                margin-top: 20px;
                pointer-events: none;
            }
            .b.active{
              pointer-events: auto;
            }
            #t{
                float: right;
                margin-top: 20px;
                margin-right: 10px;
            }
            #n{
                float: left;
                margin-top: 20px;
            }
            .container{
                margin-top: 150px;
            }
            .info{
                /* display: inline-block; */
                width: 100%;
                border-radius: 5px;
                background-color:#A683E3;
                margin-top: 100px;
                padding: 20px;
            }
            .number{
                border: 3px solid #A683E3;
                border-radius: 50%;
                height: 40px;
                width: 40px;
                display: inline-block;
                justify-content: center;
                align-items: center;
                background-color: #E4E9FD;
                margin-bottom: 10px;
            }
            .in{
                display: inline-block;
                width: 100%;
                /* margin-bottom: 80px; */
                padding: 10px;
                padding-left: 20px;
                margin-bottom: 30px;
                background-color: #E4E9FD;
                border-radius: 5px;
            }
            h6{
                padding-bottom: 20px;
            }
            .numofques{
                display: inline-block;
                background-color: #E4E9FD;
                padding: 10px;
                border-radius: 5px;
                width: 100%;
            }
            .number p{
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .timer{
                display: flex;
                justify-content: right;
                font-size: 30px;
                color: gray;
            }
            .count{
                margin-top: 20px;
                font-size: 20px;
            }
            .op .opt.colorchange{
              background: #A683E3;
              color: black;
            }
            .op .opt.disabled{
              pointer-events: none;
            }
            .result-box{
              position: absolute;
              top: 25%;
              left: 25%;
              width: 50%;
              margin: auto;
              border: 2px solid black;
              border-radius: 5px;
              background-color: #E4E9FD;
              padding: 20px;
              display: flex;
              flex-direction: column;
              align-items: center;
              opacity: 0;
              pointer-events: none;
            }
            .result-box.active{
              opacity: 1;
              pointer-events: auto;
            }
            .result-box h2{
              font-size: 52px;
            }
            .result-box .percentage-container{
              width: 300px;
              display: flex;
              flex-direction: column;
              align-items: center;
            }
            .percentage-container .circular-progress{
              position: relative;
              width: 250px;
              height: 250px;
              background: conic-gradient(#A683E3 3.6deg, rgba(255,255,255, .1) 0deg);
              border-radius: 50%;
              display: flex;
              justify-content: center;
              align-items: center;
            }
            .percentage-container .circular-progress::before{
              content: '';
              position: absolute;
              width: 210px;
              height: 210px;
              background: #E4E9FD;
              border-radius: 50%;
            }
            .circular-progress .progress-value{
              position: relative;
              font-size: 45px;
              font-weight: 600;
            }
            .percentage-container .score-text{
              font-size: 26px;
              font-weight: 600;
              margin-top: 20px;
            }
            .gohome{
              width: 130px;
              height: 47px;
              background: #A683E3;
              border-radius: 5px;
              outline: none;
              font-size: 16px;
              font-weight: 600;
              cursor: pointer;
            }
            .gohome:hover{
              background: #E4E9FD;
              background-color: #E4E9FD;
            }
            .b1.active{
              opacity:0;
              pointer-events: none;
            }
        </style>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    </head>

    <body >
      <div class="b1">
        <form>
        <div class="top">
        <h1><%= topic %></h1>
        </div>
        <div class="timer" id="timer">00:00:00</div>
        <!-- <button onclick="startStopwatch()">Start</button>
        <button onclick="stopStopwatch()">Stop</button>
        <button onclick="resetStopwatch()">Reset</button> -->
        <div class="full">
        <div class="question mcq">
            <h2 class="mcq1"><%= ques %></h2>
        </div>
        <div class="mcq opt1 op">
          <label for="html" class="opt"><%= opt1 %></label><br>
          <label for="html" class="opt"><%= opt2 %></label><br>
          <label for="html" class="opt"><%= opt3 %></label><br>
          <label for="html" class="opt"><%= opt4 %></label><br>
        </div>
        </div>
            <button id="b" type="button" class="btn btn-primary b">Save and Next</button>
            <button id="t" type="button" class="btn btn-primary">Skip</button>
        <h6 class="count">1 of 4 Questions</h6>
        <!-- <div class="info">
            <div class="in">
            <h6>Number of questions answered:</h6>
            <h6>Number of questions visited:</h6>
            <h6>Number of questions not visited:</h6>
            </div>
            <div class="numofques">
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            <div class="number"><p>1</p></div>
            </div>
        </div> -->
        </form>

        <div class="container foot">
            <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
              <div class="col-md-4 d-flex align-items-center">
                <a href="/" class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1">
                  <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"></use></svg>
                </a>
                <span class="mb-3 mb-md-0 text-body-secondary">Â© 2023 Company, Inc</span>
              </div>

              <!-- <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
                <li class="ms-3"><a class="text-body-secondary" href="#"><svg xmlns="http://www.w3.org/2000/svg" class="bi" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
                  </svg></a></li>
                <li class="ms-3"><a class="text-body-secondary" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi" viewBox="0 0 16 16">
                    <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"/>
                  </svg></a></li>
                <li class="ms-3"><a class="text-body-secondary" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi" viewBox="0 0 16 16">
                    <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/>
                  </svg></a></li>
              </ul> -->
            </footer>
          </div>
          </div>



          <div class="result-box">
            <h2>Quiz Result</h2>
            <div class="percentage-container">
              <div class="circular-progress">
                <span class="progress-value">0%</span>
              </div>
              <span class="score-text">You scored 0 out of 5</span>
            </div>
            <form action="/last" method="post">
            <center><button class="gohome">Go To Home</button></center>
            </form>
          </div>
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script> -->
        <script>
          var questions=[
              {
                  Topic:"hello",
                  numb:1,
                  question:"how are yo?",
                  answer:"C. abc",
                  options:[
                      "A. abc",
                      "B. qddxf",
                      "C. abc",
                      "D. asfc",
                  ]
              },
              {
                  numb:2,
                  question:"how are?",
                  answer:"A. abc",
                  options:[
                  "A. abc",
                  "B. qddxf",
                  "C. abc",
                  "D. asfc",
                  ]
              },
              {
                  numb:3,
                  question:"how  you?",
                  answer:"B. qddxf",
                  options:[
                  "A. abc",
                  "B. qddxf",
                  "C. abc",
                  "D. asfc",
                  ]
              },
              {
                  numb:4,
                  question:"how are you?",
                  answer:"D. asfc",
                  options:[
                  "A. abc",
                  "B. qddxf",
                  "C. abc",
                  "D. asfc",
                  ]
              }
          ]
          var count=1;
          var quesnumb=1;
          var score=0;
          function showques(index){
            const questext=document.querySelector('.mcq1');
            questext.textContent=`${questions[index].numb}.${questions[index].question}`;
            var opttag=`<label for="html" class="opt">${questions[index].options[0]}</label><br>
                       <label for="html" class="opt">${questions[index].options[1]}</label><br>
                       <label for="html" class="opt">${questions[index].options[2]}</label><br>
                       <label for="html" class="opt">${questions[index].options[3]}</label><br>`;
            opt1.innerHTML=opttag;
            const opt=document.querySelectorAll(".opt");
            for(var i=0;i<opt.length;i++){
              opt[i].setAttribute('onclick','optselected(this)');
            }
          };

          function optselected(answer){
            var userans=answer.textContent;
            var correctans=questions[count-1].answer;
            var allopt=opt1.children.length;
            answer.classList.add('colorchange');
            if(userans==correctans){
              score=score+1;
            console.log(score);
            }else{
            console.log("ans is wrong");
            }
            for(var i=0;i<allopt;i++){
              opt1.children[i].classList.add('disabled');
            }
            nextbtn.classList.add('active');
          }
          const opt1=document.querySelector('.opt1');
          const nextbtn=document.querySelector('.b');
          showques(0);
          nextbtn.onclick=()=>{
            // count++;
            if(count<questions.length){
            showques(count);
            count++;
            quesnumb++;
            quescounter(quesnumb);
            nextbtn.classList.remove('active');
          }else{
             showresultbox();
          }
          }
          function quescounter(index){
            const questotal=document.querySelector(".count");
            questotal.textContent=`${index} of ${questions.length} Questions`;
          }
          const resultbox=document.querySelector('.result-box');
          const full=document.querySelector('.b1');
          function showresultbox(){
              full.classList.add('active');
              resultbox.classList.add('active');
              const scoretext=document.querySelector('.score-text');
              scoretext.textContent=`You scored ${score} out of ${questions.length}`;
              const circularprogress=document.querySelector('.circular-progress');
              const progressvalue=document.querySelector('.progress-value');
              var  progressstartvalue=-1;
              var progressendvalue=(score/questions.length)*100;
              var speed=20;

              var progress = setInterval(() => {
                progressstartvalue++;
                // console.log(progressstartvalue);
                progressvalue.textContent=`${progressstartvalue}%`;
                // var prog=progressendvalue-progressstartvalue
                circularprogress.style.background=`conic-gradient(#A683E3 ${(progressstartvalue+1)*3.6}deg, rgba(255,255,255, .1) 0deg)`;
                if(progressstartvalue==progressendvalue){
                  clearInterval(progress);
                }
              },speed);
          }

        </script>
    </body>
</html>
